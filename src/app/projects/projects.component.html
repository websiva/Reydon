<div class="container-fluid p-0">
    <!--<div class="banner-section">
        <img src="project-banner/smart-city-banner.jpeg" alt="">
    </div>-->
    <!--Filter section-->
    <!--For large screens-->
    <div class="filter-section-large">
        <div class="row laptop">
            <!--Zone filter-->
            <div class="col-2">
                <label for="zone" class="form-label required">Zone:</label>
                <a class="" data-bs-toggle="modal" data-bs-target="#zoneModal" style="cursor: pointer;"><img
                        src="information.svg" alt="zone information"
                        style="width: 20px;height: 20px;margin-left: 10px;"></a>
                <select id="zone" class="form-select" aria-label="Default select example" [(ngModel)]="selectedZone"
                    (ngModelChange)="onFilterChange('zone')">
                    <option *ngFor="let Zone of Zones" [value]="Zone">{{Zone}}</option>
                </select>
            </div>
            <!--District filter-->
            <div class="col-2">
                <label for="city" class="form-label required">District:</label>
                <select id="city" class="form-select" aria-label="Default select example" [(ngModel)]="selectedDistrict"
                    (ngModelChange)="onFilterChange('district')">
                    <option *ngFor="let district of ProjectCities" [value]="district">{{district}}</option>
                </select>
            </div>
            <!--Residencial / Commercial filter-->
            <div class="col-2">
                <label for="type" class="form-label required">Residential/Commercial:</label>
                <select id="type" class="form-select" aria-label="Default select example" [(ngModel)]="selectedType"
                    (ngModelChange)="onFilterChange('type')">
                    <option *ngFor="let type of Types" [value]="type">{{type}}</option>
                </select>
            </div>
            <!--Propert type filter-->
            <div class="col-2">
                <label for="propertyType" class="form-label required">Property Type:</label>
                <select id="propertyType" class="form-select" aria-label="Default select example"
                    [(ngModel)]="selectedProperty" (ngModelChange)="onFilterChange('property')">
                    <option *ngFor="let category of Categories" [value]="category">{{category}}</option>
                </select>
            </div>
            <!--Price filter button-->
            <div class="col-3 d-flex flex-column justify-content-evenly">
                <label for="priceRange" class="form-label required">Price:</label>
                <input type="range" id="priceRange" [min]="MinPrice" [max]="Maxprice" step="10"
                    [(ngModel)]="pricePerUnit" (input)="onPriceChange($event)" />
                <div style="display: flex; align-items: center;margin-top: 5px;">
                    <span style="color: white; margin-right: 8px;">{{ pricePerUnit | currency: 'INR':'symbol':'1.0-0' }} /</span>
                    <select [ngModel]="selectedUnit" name="" id="" style="display: inline-block;"
                        (change)="onUnitChange($event)">
                        <option value="Sq Ft">Sq Ft</option>
                        <option value="Cent">Cent</option>
                    </select>
                </div>
            </div>
            <div class="col-1 reset d-flex justify-content-center align-items-center">
                <button class="btn reset-button w-100 my-auto" (click)="resetFilter()">Reset</button>
            </div>
        </div>
        <div class="ipad">
            <div class="row w-100">
                <!--Zone filter-->
                <div class="col-4">
                    <label for="zone" class="form-label required">Zone:</label>
                    <a class="" data-bs-toggle="modal" data-bs-target="#zoneModal" style="cursor: pointer;"><img
                            src="information.svg" alt="zone information"
                            style="width: 20px;height: 20px;margin-left: 10px;"></a>
                    <select id="zone" class="form-select" aria-label="Default select example" [(ngModel)]="selectedZone"
                        (ngModelChange)="onFilterChange('zone')">
                        <option *ngFor="let Zone of Zones" [value]="Zone">{{Zone}}</option>
                    </select>
                </div>
                <!--city filter-->
                <div class="col-4">
                    <label for="city" class="form-label required">District:</label>
                    <select id="city" class="form-select" aria-label="Default select example"
                        [(ngModel)]="selectedDistrict" (ngModelChange)="onFilterChange('city')">
                        <option *ngFor="let district of ProjectCities" [value]="district">{{district}}</option>
                    </select>
                </div>
                <!--Residencial / Commercial filter-->
                <div class="col-4">
                    <label for="type" class="form-label required">Residential/Commercial:</label>
                    <select id="type" class="form-select" aria-label="Default select example" [(ngModel)]="selectedType"
                        (ngModelChange)="onFilterChange('type')">
                        <option *ngFor="let type of Types" [value]="type">{{type}}</option>
                    </select>
                </div>
            </div>
            <div class="row w-100 mt-3">
                <!--Propert type filter-->
                <div class="col-4">
                    <label for="propertyType" class="form-label required">Property Type:</label>
                    <select id="propertyType" class="form-select" aria-label="Default select example"
                        [(ngModel)]="selectedProperty" (ngModelChange)="onFilterChange('property')">
                        <option *ngFor="let category of Categories" [value]="category">{{category}}</option>
                    </select>
                </div>
                <!--Price filter button-->
                <div class="col-6 d-flex flex-column justify-content-evenly">
                    <label for="priceRange" class="form-label required">Price:</label>
                    <input type="range" id="priceRange" min="0" [max]="Maxprice" step="100" [(ngModel)]="pricePerUnit"
                        (input)="onPriceChange($event)" />
                    <div style="display: flex; align-items: center;margin-top: 5px;">
                        <span style="color: white; margin-right: 8px;">{{ pricePerUnit | currency: 'INR':'symbol':'1.0-0' }} /</span>
                        <select [ngModel]="selectedUnit" name="" id="" style="display: inline-block;"
                            (change)="onUnitChange($event)">
                            <option value="Sq Ft">Sq Ft</option>
                            <option value="Cent">Cent</option>
                        </select>
                    </div>
                </div>
                <div class="col-2"></div>
            </div>
        </div>
        <div class="mobile px-3">
            <div class="filter-button d-flex justify-content-end align-content-center">
                <button class="btn d-block d-md-none" (click)="toggleFilters()">{{filterButtonContent}}</button>
            </div>
            <div class="filter-section" [ngClass]="{'d-flex': filterVisible, 'd-none': !filterVisible}">
                <!--Zone filter-->
                <div class="row w-100">
                    <div class="col-12">
                        <label for="zone" class="form-label required">Zone:</label>
                        <a class="" data-bs-toggle="modal" data-bs-target="#zoneModal" style="cursor: pointer;"><img
                                src="information.svg" alt="zone information"
                                style="width: 20px;height: 20px;margin-left: 10px;"></a>
                        <select id="zone" class="form-select" aria-label="Default select example"
                            [(ngModel)]="selectedZone" (ngModelChange)="onFilterChange('zone')">
                            <option *ngFor="let Zone of Zones" [value]="Zone">{{Zone}}</option>
                        </select>
                    </div>
                </div>
                <!--city filter-->
                <div class="row w-100">
                    <div class="col-12">
                        <label for="city" class="form-label required">District:</label>
                        <select id="city" class="form-select" aria-label="Default select example"
                            [(ngModel)]="selectedDistrict" (ngModelChange)="onFilterChange('district')">
                            <option *ngFor="let district of ProjectCities" [value]="district">{{district}}</option>
                        </select>
                    </div>
                </div>
                <div class="row w-100">
                    <!--Residencial / Commercial filter-->
                    <div class="col-12">
                        <label for="type" class="form-label required">Residential/Commercial:</label>
                        <select id="type" class="form-select" aria-label="Default select example"
                            [(ngModel)]="selectedType" (ngModelChange)="onFilterChange('type')">
                            <option *ngFor="let type of Types" [value]="type">{{type}}</option>
                        </select>
                    </div>
                </div>
                <!--Propert type filter-->
                <div class="row w-100">
                    <div class="col-12">
                        <label for="propertyType" class="form-label required">Property Type:</label>
                        <select id="propertyType" class="form-select" aria-label="Default select example"
                            [(ngModel)]="selectedProperty" (ngModelChange)="onFilterChange('property')">
                            <option *ngFor="let category of Categories" [value]="category">{{category}}</option>
                        </select>
                    </div>
                </div>
                <!--Price filter button-->
                <div class="row w-100">
                    <div class="col-12 d-flex flex-column justify-content-evenly">
                        <label for="priceRange" class="form-label required">Price:</label>
                        <input type="range" id="priceRange" min="0" [max]="Maxprice" step="100"
                            [(ngModel)]="pricePerUnit" (input)="onPriceChange($event)" />
                        <div style="display: flex; align-items: center;margin-top: 5px;">
                            <span style="color: white; margin-right: 8px;">{{ pricePerUnit | currency: 'INR':'symbol':'1.0-0' }} /</span>
                            <select [ngModel]="selectedUnit" name="" id="" style="display: inline-block;"
                                (change)="onUnitChange($event)">
                                <option value="Sq Ft">Sq Ft</option>
                                <option value="Cent">Cent</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Cards section-->
    <div class="cards-container" *ngIf="FilteredProjects.length>0">
        <div class="row">
            <div class="project-card" *ngFor="let project of FilteredProjects">
                <div class="image-section">
                    <img [src]="project.CardImage" alt="{{ project.ProjectName }}">
                </div>
                <div class="content-section">
                    <div class="category-label">
                        <ul>
                            <li [ngStyle]="{'background-color':getLabelBackgroundColor(project.Type)}">
                                {{project.Type}}
                            </li>
                            <li [ngStyle]="{'background-color':getLabelBackgroundColor(project.Category)}">
                                {{project.Category}}</li>
                        </ul>
                    </div>
                    <div class="title-section">
                        <h6 class="m-0">{{project.ProjectName}}</h6>
                    </div>
                    <div class="location-section">
                        <svg fill="#000000" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round">
                            </g>
                            <g id="SVGRepo_iconCarrier">
                                <style type="text/css">
                                    .st0 {
                                        fill: none;
                                    }
                                </style>
                                <path
                                    d="M12,2C8.7,2,6,4.7,6,8c0,5.2,6,11.1,6,11.1s6-6,6-11.1C18,4.7,15.3,2,12,2z M12,5.9c1.1,0,2.1,1,2.1,2.1 c0,1.2-0.9,2.1-2.1,2.1S9.9,9.1,9.9,8C9.9,6.8,10.9,5.9,12,5.9z M6.8,15.1c-1.3,0.3-2.3,0.6-3.2,1c-0.4,0.2-0.8,0.5-1.1,0.8 S2,17.8,2,18.3c0,0.8,0.5,1.4,1.1,1.8s1.3,0.7,2.2,1C7.1,21.7,9.4,22,12,22s4.9-0.3,6.7-0.8c0.9-0.3,1.6-0.6,2.2-1s1.1-1,1.1-1.8 c0-1-0.8-1.7-1.6-2.2c-0.8-0.5-1.9-0.8-3.2-1l-0.3,2c1.1,0.2,2,0.5,2.6,0.8c0.4,0.2,0.5,0.4,0.6,0.4c0,0-0.1,0.1-0.2,0.2 c-0.3,0.2-0.9,0.5-1.6,0.7C16.6,19.7,14.4,20,12,20s-4.6-0.3-6.1-0.8c-0.7-0.2-1.3-0.5-1.6-0.7c-0.1-0.1-0.2-0.2-0.2-0.2 c0.1-0.1,0.2-0.2,0.5-0.4c0.6-0.3,1.5-0.6,2.7-0.8L6.8,15.1z">
                                </path>
                                <rect class="st0" width="24" height="24"></rect>
                            </g>
                        </svg>
                        <span>{{project.HeaderLocation}}</span>
                    </div>
                    <div class="knowmore-btn-section">
                        <span class="plots-count">Total no of plots: {{project.TotalPlots}}</span>
                        <button class="know-more-btn mb-1"
                            (click)="goingDetailPage(project.Category,project.ProjectName,project.ProjectId)">Know
                            more</button>
                    </div>
                    <hr class="divider">
                    <div class="amenities-section">
                        <div class="amenities">
                            <div class="layout" *ngIf="project.Category==='Layout'">
                                <img *ngFor="let aminity of project.CardAmenities" [src]="'aminities/'+aminity+'.svg'"
                                    alt="aminity">
                            </div>
                            <div class="apartment" *ngIf="project.Category==='Apartment'">
                                <i class="fas fa-bed"></i>
                                <span class="ms-1">{{project.TotalBedrooms}}</span>
                                <i class="fas fa-bathtub ms-2"></i>
                                <span class="ms-1">{{project.TotalBathrooms}}</span>
                                <i class="fas fa-car ms-2"></i>
                                <span class="ms-1">{{project.TotalParking}}</span>
                            </div>
                        </div>
                        <div class="project-updated-date">
                            <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" fill="#767F86">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <title>time-history</title>
                                    <g id="Layer_2" data-name="Layer 2">
                                        <g id="invisible_box" data-name="invisible box">
                                            <rect width="48" height="48" fill="none"></rect>
                                        </g>
                                        <g id="icons_Q2" data-name="icons Q2">
                                            <path
                                                d="M46,24A22,22,0,0,1,4.3,33.7a2,2,0,0,1,.5-2.6,2,2,0,0,1,3,.7A18,18,0,1,0,10.6,12h5.3A2.1,2.1,0,0,1,18,13.7,2,2,0,0,1,16,16H6a2,2,0,0,1-2-2V4.1A2.1,2.1,0,0,1,5.7,2,2,2,0,0,1,8,4V8.9A22,22,0,0,1,46,24Z">
                                            </path>
                                            <path
                                                d="M34,32a1.7,1.7,0,0,1-1-.3L22,25.1V14a2,2,0,0,1,4,0v8.9l9,5.4a1.9,1.9,0,0,1,.7,2.7A1.9,1.9,0,0,1,34,32Z">
                                            </path>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                            <h6 class="my-auto">{{calculateRelativeTime(project.ProjectLaunchDate)}}</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--No matching found-->
    <div class="container-fluid" *ngIf="FilteredProjects.length==0">
        <h6>No matching Found</h6>
    </div>
</div>


<!-- image Modal -->
<div class="modal fade" id="zoneModal" tabindex="-1" aria-labelledby="zoneModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md" style="width: 95%; max-width: 1050px;">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title p-0 m-0" id="imageModalLabel">Zone details</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <!-- Wrapping table inside a scrollable container -->
                <div class="table-responsive" style="overflow-x: auto;">
                    <table class="table table-bordered w-100">
                        <thead>
                            <tr>
                                <th>Zone</th>
                                <th>Zone Name</th>
                                <th>Districts</th>
                                <th>Count</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let zone of zoneTableData">
                                <tr class="zone-name">
                                    <td class="zone-name-title">{{zone.zone}}</td>
                                    <td>{{zone.zoneName}}</td>
                                    <td>{{zone.districts}}</td>
                                    <td class="text-center">{{zone.count}}</td>
                                </tr>
                            </ng-container>
                            <tr>
                                <th colspan="3">Total District</th>
                                <th class="text-center">38</th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>